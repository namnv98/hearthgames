<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>HearthLogs.com - Upload a Hearhtstone Log File</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.5/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/3.3.5/css/bootstrap.min.css}" rel="stylesheet" media="screen" />
    <script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js" th:src="@{/webjars/jquery/2.1.4/jquery.min.js}"></script>
    <script type="text/javascript" src="http://static-hearth.cursecdn.com/current/js/syndication/tt.js"></script>

    <link href="../static/css/main.css" th:href="@{css/main.css}" rel="stylesheet" media="screen"/>
    <link href="../static/css/game.css" th:href="@{css/game.css}" rel="stylesheet" media="screen"/>

    <script type="text/javascript">
        $(document).ready(function(){
            $("#card-info").click(function(e){
                e.preventDefault();
            });
        });
    </script>
</head>
<body>

<div class="container">

    <div class="hearthlogs-title">HEARTHLOGS.com<span> A Hearthstone Log Analyzer</span></div>

    <hr/>
    <div class="versus-info">
        <span th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}" th:text="${versusInfo.friendlyName}">Seekay</span>
        <img src="http://images.hearthlogs.com/HERO_01.png" th:src="@{'http://images.hearthlogs.com/'+${versusInfo.friendlyHeroCardId}+'.png'}" />
        <span style="font-size: 25px; font-weight: bold;">VS</span>
        <img src="http://images.hearthlogs.com/HERO_05.png" th:src="@{'http://images.hearthlogs.com/'+${versusInfo.opposingHeroCardId}+'.png'}" />
        <span th:class="${#strings.toLowerCase(versusInfo.opposingClass)}" th:text="${versusInfo.opposingName}">Opponent</span>
    </div>
    <div class="versus-info">
        <span th:if="${versusInfo.friendlyName == versusInfo.winner}"> <span th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}" th:text="${versusInfo.friendlyName}">Seekay</span> has Won! </span>
        <span th:if="${versusInfo.opposingName == versusInfo.winner}"> <span th:class="${#strings.toLowerCase(versusInfo.opposingClass)}" th:text="${versusInfo.opposingName}">Opponent</span> has Won :( </span>
    </div>
    <div class="versus-info-duration">
        <span>Duration: <span th:text="${versusInfo.duration}"></span></span>
    </div>

    <h4 class="info-heading">Card Summary</h4>
    <div>
        <table id="card-info" class="table table-bordered">
            <thead>
            <tr>
                <th></th>
                <th>Starting Hand</th>
                <th>Mulliganed Cards</th>
                <th>Cards In Deck</th>
            </tr>
            </thead>
            <tbody>
            <tr th:with="player=${cardInfo.friendly.columns[0]},startingCards=${cardInfo.friendly.columns[1].datas},mulliganCards=${cardInfo.friendly.columns[2].datas},deckCards=${cardInfo.friendly.columns[3].datas}">
                <td>
                    <span th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}" th:text="${player.data}"></span>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${startingCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${startingCards}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${mulliganCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${mulliganCards}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${deckCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                </td>
            </tr>
            <tr th:with="player=${cardInfo.opposing.columns[0]},startingCards=${cardInfo.opposing.columns[1].datas},mulliganCards=${cardInfo.opposing.columns[2].datas},deckCards=${cardInfo.opposing.columns[3].datas}">
                <td>
                    <span th:class="${#strings.toLowerCase(versusInfo.opposingClass)}" th:text="${player.data}"></span>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${startingCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${startingCards}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${mulliganCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${mulliganCards}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${deckCards}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <h4 class="info-heading">Health/Armor Summary</h4>
    <div>
        <table class="health-info table table-bordered" th:each="healthArmorInfo: ${healthArmorInfos}">
            <thead>
            <tr>
                <th th:text="${column.data}" th:each="column,iterStat : ${healthArmorInfo.header.columns}" th:class="${iterStat.first}? '' : 'turn'"></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td th:each="column,iterStat : ${healthArmorInfo.friendly.columns}">
                    <div th:class="${iterStat.first}? '' : 'health-armor'" class="health-armor">
                        <div th:if="${column.data2 != null}" th:class="${iterStat.first}? '' : 'armor-bg'" class="armor-bg">
                            <div th:text="${column.data2}"></div>
                        </div>
                        <div th:class="${iterStat.first}? ${#strings.toLowerCase(versusInfo.friendlyClass)} : 'health-bg'" class="health-bg">
                            <div th:text="${column.data}"></div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td th:each="column,iterStat : ${healthArmorInfo.opposing.columns}">
                    <div th:class="${iterStat.first}? '' : 'health-armor'" class="health-armor">
                        <div th:if="${column.data2 != null}" th:class="${iterStat.first}? '' : 'armor-bg'" class="armor-bg">
                            <div th:text="${column.data2}"></div>
                        </div>
                        <div th:class="${iterStat.first}? ${#strings.toLowerCase(versusInfo.opposingClass)} : 'health-bg'" class="health-bg">
                            <div th:text="${column.data}"></div>
                        </div>
                    </div>
                </td>

            </tr>
            </tbody>
        </table>
    </div>


    <h4 class="info-heading">Mana Summary</h4>

    <div>
        <table id="mana-info" class="table table-bordered">
            <thead>
            <tr>
                <th></th>
                <th>Used</th>
                <th>Gained</th>
                <th>Lost</th>
                <th>Saved</th>
                <th>Not Needed</th>
                <th>Efficiency</th>
            </tr>
            </thead>
            <tbody>
            <tr th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}">
                <td th:text="${versusInfo.friendlyName}">Seekay</td>
                <td th:text="${manaInfo.friendlyManaUsed}">40</td>
                <td th:text="${manaInfo.friendlyTotalMana}">40</td>
                <td th:text="${manaInfo.friendlyManaLost}">40</td>
                <td th:text="${manaInfo.friendlyManaSaved}">40</td>
                <td th:text="${manaInfo.friendlyNotNeeded}">40</td>
                <td th:text="${#numbers.formatDecimal(manaInfo.friendlyManaEfficiency*100, 0, 'COMMA', 2, 'POINT')+'%'}">40</td>
            </tr>
            <tr th:class="${#strings.toLowerCase(versusInfo.opposingClass)}">
                <td th:text="${versusInfo.opposingName}">Seekay</td>
                <td th:text="${manaInfo.opposingManaUsed}">40</td>
                <td th:text="${manaInfo.opposingTotalMana}">40</td>
                <td th:text="${manaInfo.opposingManaLost}">40</td>
                <td th:text="${manaInfo.opposingManaSaved}">40</td>
                <td th:text="${manaInfo.opposingNotNeeded}">40</td>
                <td th:text="${#numbers.formatDecimal(manaInfo.opposingManaEfficiency*100, 0, 'COMMA', 2, 'POINT')+'%'}">40</td>
            </tr>
            </tbody>
        </table>
    </div>

    <h4 class="info-heading">Card Advantage</h4>
    <div>
        <table class="card-advantage-info table table-bordered" th:each="cardAdvantageInfo: ${cardAdvantageInfos}">
            <thead>
            <tr>
                <th th:text="${column.data}" th:each="column,iterStat : ${cardAdvantageInfo.header.columns}" th:class="${iterStat.first}? '' : 'turn'"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}">
                <td th:each="column,iterStat : ${cardAdvantageInfo.friendly.columns}">
                    <div th:class="${iterStat.first}? '' : 'cadvantage-info'" th:text="${column.data}"></div>
                </td>
            </tr>
            <tr th:class="${#strings.toLowerCase(versusInfo.opposingClass)}">
                <td th:each="column,iterStat : ${cardAdvantageInfo.opposing.columns}">
                    <div th:class="${iterStat.first}? '' : 'cadvantage-info'" th:text="${column.data}"></div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <h4 class="info-heading">Board Control</h4>
    <div>
        <table class="board-control-info table table-bordered" th:each="boardControlInfo: ${boardControlInfos}">
            <thead>
            <tr>
                <th th:text="${column.data}" th:each="column,iterStat : ${boardControlInfo.header.columns}" th:class="${iterStat.first}? '' : 'turn'"></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td th:each="column,iterStat : ${boardControlInfo.friendly.columns}">
                    <div th:if="${iterStat.first}" th:text="${column.data}" th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}"></div>
                    <div th:if="${!iterStat.first}" th:class="${#strings.toLowerCase(column.data)}+'-bg bcontrol-info'"></div>
                </td>
            </tr>
            <tr>
                <td th:each="column,iterStat : ${boardControlInfo.opposing.columns}">
                    <div th:if="${iterStat.first}" th:text="${column.data}" th:class="${#strings.toLowerCase(versusInfo.opposingClass)}"></div>
                    <div th:if="${!iterStat.first}" th:class="${#strings.toLowerCase(column.data)}+'-bg bcontrol-info'"></div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>


    <h4 class="info-heading">Turn By Turn Summary</h4>

    <div th:each="turnInfo,iterStat : ${turnInfos}">
        <h5>Turn <span th:text="${turnInfo.turnNumber}">1</span> - <span th:text="${turnInfo.whoseTurn}" th:class="${#strings.toLowerCase(turnInfo.turnClass)}">Seekay</span></h5>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th></th>
                <th>Hand</th>
                <th>Weapon</th>
                <th>Secrets</th>
                <th>Minions In Play</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><span th:class="${#strings.toLowerCase(versusInfo.friendlyClass)}" th:text="${versusInfo.friendlyName}"></span></td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.friendlyHand}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.friendlyHand}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.friendlyWeapon}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.friendlyWeapon}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.friendlySecret}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.friendlySecret}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.friendlyPlay}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.friendlyPlay}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
            </tr>
            <tr>
                <td><span th:class="${#strings.toLowerCase(versusInfo.opposingClass)}" th:text="${versusInfo.opposingName}"></span></td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.opposingHand}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.opposingHand}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.opposingWeapon}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.opposingWeapon}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.opposingSecret}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.opposingSecret}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
                <td>
                    <a th:if="${card.cardDetails != null}" th:each="card : ${turnInfo.opposingPlay}" th:href="@{'http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}}" th:attr="data-tooltip-href='http://www.hearthpwn.com'+${card.cardDetails.cardLink.href}">
                        <img src="" th:src="@{'http://images.hearthlogs.com/'+${card.cardDetails.cardLink.cardId}+'.png'}" />
                    </a>
                    <a th:if="${card.cardDetails == null}" th:each="card : ${turnInfo.opposingPlay}">
                        <img src="http://images.hearthlogs.com/cardback.png" />
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
